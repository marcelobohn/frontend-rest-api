function defineComponetEvents(){"use strict";$("#btnHome").click(function(){window.location.assign("index.html")}),$("#btnProducts").click(function(){window.location.assign("product.html")})}function request(t,n,o){var e=!1;return $.ajax({type:t,url:n,data:o,dataType:"json",async:!1,success:function(t){e=t},error:function(){alert("Error occured")}}),e}function mountLine(t){var n='<tr data-id="'+t.id+'">';return n+='<td class="colNome">'+t.nome+"</td>",n+='<td class="colValor">'+t.valor+"</td>",n+='<td class="colEstoque">'+t.estoque+"</td>",n+='<td><span class="glyphicon glyphicon-pencil clickable btnEdit"></span></td>',n+='<td><span class="glyphicon glyphicon-remove clickable btnDelete"></span></td>',n+="</tr>"}function mountDataForm(t){var n=$(t),o=n.data("id"),e=n.find("#nome").val(),r=n.find("#valor").val(),i=n.find("#estoque").val();return{id:o,nome:e,valor:r,estoque:i,status:"A"}}function setEventsTable(){$("#btnNew").unbind("click"),$("#btnNew").click(function(){(new Product).insert("#content")}),$(".btnEdit").unbind("click"),$(".btnEdit").click(function(){(new Product).edit(this)}),$(".btnDelete").unbind("click"),$(".btnDelete").click(function(){var t=confirm("Confirma deletar o registro?");t===!0&&(new Product)["delete"](this)})}function setEventsForm(){$("#btnGravar").click(function(){var t=mountDataForm("#form"),n=(new Product).save(t);n&&($("#form").hide(),$("#list").show())}),$("#btnCancel").click(function(){$("#form").hide(),$("#list").show()})}function fillForm(t){$("#form").data("id",t?t.id:0),$("#form").find("#nome").val(t?t.nome:""),$("#form").find("#valor").val(t?t.valor:""),$("#form").find("#estoque").val(t?t.estoque:""),$("#form").show(),$("#list").hide(),$("#titleForm").html(t?"Editando":"Inserindo")}function updateRow(t){var n=$('tr[data-id="'+t.id+'"]');n.find(".colNome").html(t.nome),n.find(".colValor").html(t.valor),n.find(".colEstoque").html(t.estoque)}$(document).ready(function(){defineComponetEvents()});var Product=function(t){this.firstName=t};Product.prototype.mountTable=function(t,n){$.each(n,function(n,o){$(t).find("tbody").append(mountLine(o))})},Product.prototype.setListOnScrean=function(t){$(t+"tbody > tr").remove();var n=this.getList();n.length>0&&(this.mountTable(t,n),setEventsTable(),setEventsForm()),document.title="Products",$("#btnHome").removeClass("active"),$("#btnProducts").parents("li").addClass("active")},Product.prototype.getList=function(){return request("GET",config.productUrl,{})},Product.prototype.insert=function(){fillForm()},Product.prototype.edit=function(t){var n=$(t).parents("tr").data("id"),o=request("GET",config.productUrl+n,{});o&&fillForm(o)},Product.prototype.save=function(t){if(t.id>0){var n=request("PUT",config.productUrl+t.id,t);return n?(updateRow(n),n):!1}var n=request("POST",config.productUrl,t);return n?($("#tableProducts").find("tbody").append(mountLine(n)),setEventsTable(),n):!1},Product.prototype["delete"]=function(t){var n=$(t).parents("tr").data("id"),o=request("DELETE",config.productUrl+n,{});o&&$(t).parents("tr").remove()};var config={productUrl:"http://localhost:3000/product/"};